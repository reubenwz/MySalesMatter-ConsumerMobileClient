<ion-header>
  <ion-toolbar color="mysalesmatter">
    <ion-title>Make Payment</ion-title>
  </ion-toolbar>
</ion-header>

<ion-content>
  <form #makePaymentForm="ngForm" (ngSubmit)="create(makePaymentForm)">
    <ion-card>
      <ion-card-content>
        <div *ngIf="resultSuccess == true" style="color: blue">
          {{message}}
        </div>

        <div *ngIf="resultError == true" style="color: red">
          {{message}}
        </div>

        <div style="color: red">
          <div *ngIf="ccName.invalid && (ccName.dirty || ccName.touched || submitted)" class="errorText">
            <div *ngIf="ccName.errors.required">Credit Card Name is required.</div>
          </div>
          <div *ngIf="ccNum.invalid && (ccNum.dirty || ccNum.touched || submitted)" class="errorText">
            <div *ngIf="ccNum.errors.required">
              Credit Card Number is required.
            </div>
            <div *ngIf="ccNum.errors.minlength">
							Credit Card Number must be 16 characters long.
						</div>
						<div *ngIf="ccNum.errors.maxlength">
							Credit Card Number must be 16 characters long.
						</div>
          </div>
        </div>



        <ion-list>
          <ion-item>
            <ion-label><b>Total Amount</b></ion-label>
            {{totalPrice | currency}}
          </ion-item>

          <ion-item>
            <ion-label><b>Credit Card Name</b></ion-label>
            <ion-input type="text" id="ccName" name="ccName" [(ngModel)]="name" required="true" #ccName="ngModel">
            </ion-input>
          </ion-item>

          <ion-item>
            <ion-label><b>Credit Card Number</b></ion-label>
            <ion-input type="text" id="ccNum" name="ccNum" [(ngModel)]="num" required="true" #ccNum="ngModel">
            </ion-input>
          </ion-item>

          <ion-item>
            <ion-label><b>CVV</b></ion-label>
            <ion-input type="text" id="cvv" name="cvv" [(ngModel)]="cvvNum" required="true" #cvv="ngModel">
            </ion-input>
          </ion-item>

          <ion-item>
            <ion-label><b>Expiry Date</b></ion-label>
            <ion-input type="text" id="expiry" name="expiry" [(ngModel)]="expiryDate" required="true" #expiry="ngModel">
            </ion-input>
          </ion-item>
        </ion-list>
      </ion-card-content>
    </ion-card>

    <ion-card style="text-align: center">
      <ion-card-content>
        <ion-button (click)="clear()"> Clear </ion-button>
        <ion-button type="submit" ion-button block> Make Payment </ion-button>
      </ion-card-content>
    </ion-card>
  </form>
</ion-content>