<ion-header>
	<ion-toolbar color="mysalesmatter">
		<ion-buttons slot="start">
			<ion-button (click)="back()">
				<ion-icon slot="start" name="arrow-back"></ion-icon>
			</ion-button>
		</ion-buttons>
		<ion-title>Register</ion-title>
	</ion-toolbar>
</ion-header>

<ion-content>

	<form #userRegisterForm="ngForm" (ngSubmit)="userRegister(userRegisterForm)">

		<ion-card *ngIf="sessionService.getIsLogin() == false">

			<ion-card-content>

				<div *ngIf="resultSuccess == true" style="color: blue;">
					{{message}}
				</div>

				<div *ngIf="resultError == true" style="color: red;">
					{{message}}
				</div>

				<div style="color: red;">

					<div *ngIf="email.invalid && (email.dirty || email.touched || submitted)" class="errorText">
						<div *ngIf="email.errors.required">
							Email is required.
						</div>
						<div *ngIf="email.errors.maxlength">
							Email cannot exceed 64 characters.
						</div>
					</div>

					<div *ngIf="username.invalid && (username.dirty || username.touched || submitted)"
						class="errorText">
						<div *ngIf="username.errors.required">
							Username is required.
						</div>
						<div *ngIf="username.errors.maxlength">
							Username cannot exceed 32 characters.
						</div>
					</div>

					<div *ngIf="password.invalid && (password.dirty || password.touched || submitted)"
						class="errorText">
						<div *ngIf="password.errors.required">
							Password is required.
						</div>
						<div *ngIf="password.errors.minlength">
							Password must be at least 8 characters long.
						</div>
						<div *ngIf="password.errors.maxlength">
							Password cannot exceed 32 characters.
						</div>
					</div>

					<div *ngIf="name.invalid && (name.dirty || name.touched || submitted)" class="errorText">
						<div *ngIf="name.errors.required">
							Name is required.
						</div>
						<div *ngIf="name.errors.maxLength">
							Name cannot exceed 32 characters.
						</div>
					</div>

					<div *ngIf="phoneNumber.invalid && (phoneNumber.dirty || phoneNumber.touched || submitted)"
						class="errorText">
						<div *ngIf="phoneNumber.errors.required">
							Phone number is required.
						</div>
						<div *ngIf="phoneNumber.errors.minlength">
							Phone number must be at least 8 characters long.
						</div>
						<div *ngIf="phoneNumber.errors.maxlength">
							Phone number cannot exceed 8 characters.
						</div>
					</div>

					<div *ngIf="bankAccountNumber.invalid && (bankAccountNumber.dirty || bankAccountNumber.touched || submitted)"
						class="errorText">
						<div *ngIf="bankAccountNumber.errors.required">
							Bank account number is required.
						</div>
						<div *ngIf="bankAccountNumber.errors.minlength">
							Bank account number must be at least 10 characters long.
						</div>
						<div *ngIf="bankAccountNumber.errors.maxlength">
							Bank account number cannot exceed 10 characters.
						</div>
					</div>

					<div *ngIf="bio.invalid && (bio.dirty || bio.touched || submitted)" class="errorText">
						<div *ngIf="bio.errors.required">
							Bio is required.
						</div>
					</div>

				</div>

				<ion-list>

					<ion-item>
						<ion-label position="floating">Email</ion-label>
						<ion-input type="text" id="email" name="email" [(ngModel)]="newUser.email" maxlength="64"
							required="true" #email="ngModel"></ion-input>
					</ion-item>

					<ion-item>
						<ion-label position="floating">Username</ion-label>
						<ion-input type="text" id="username" name="username" [(ngModel)]="newUser.username"
							maxlength="32" required="true" #username="ngModel"></ion-input>
					</ion-item>

					<ion-item>
						<ion-label position="floating">Password</ion-label>
						<ion-input type="password" id="password" name="password" [(ngModel)]="newUser.password"
							minlength="8" maxlength="32" required="true" #password="ngModel"></ion-input>
					</ion-item>

					<ion-item>
						<ion-label position="floating">Name</ion-label>
						<ion-input type="text" id="password" name="name" [(ngModel)]="newUser.name" maxlength="32"
							required="true" #name="ngModel"></ion-input>
					</ion-item>

					<ion-item>
						<ion-label position="floating">Phone Number</ion-label>
						<ion-input type="text" id="phone_number" name="phone_number" [(ngModel)]="newUser.phoneNumber"
							minlength="8" maxlength="8" required="true" #phoneNumber="ngModel"></ion-input>
					</ion-item>

					<ion-item>
						<ion-label position="floating">Bank Account Number</ion-label>
						<ion-input type="text" id="bank_account_number" name="bank_account_number"
							[(ngModel)]="newUser.bankAccountNumber" minlength="10" maxlength="10" required="true"
							#bankAccountNumber="ngModel"></ion-input>
					</ion-item>

					<ion-item>
						<ion-label position="floating">Bio</ion-label>
						<ion-textarea type="text" id="bio" name="bio" [(ngModel)]="newUser.bio" maxlength="100"
							required="true" #bio="ngModel"></ion-textarea>
					</ion-item>

				</ion-list>

			</ion-card-content>

		</ion-card>

		<ion-card style="text-align: center;">

			<ion-card-content>
				<ion-button color="danger" (click)="clear()">
					<ion-icon slot="start" name="close"></ion-icon>Clear
				</ion-button>
				<ion-button color="tertiary" ion-button block type=submit>
					<ion-icon slot="start" name="happy-outline"></ion-icon>Register
				</ion-button>
			</ion-card-content>

		</ion-card>

	</form>

</ion-content>